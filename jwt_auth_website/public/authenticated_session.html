<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authenticated Session</title>
</head>
<body>


    <script>
        // Check if token exists, if not redirect to login page
        const token = localStorage.getItem('token');
        const check = async()=>{
            const response = await fetch('/authenticated_session_check', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'authorization': token
                },
            });

        console.log(token);

        if (!token) {
            window.location.href = '/login';
        }

        return token;

    };
     
        

    const a = check();
    console.log(a);
    </script>



    <h2>Authenticated Session</h2>
    <p>Welcome to the authenticated session!</p>

    
</body>
</html>
